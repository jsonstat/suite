<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>JSON-stat Javascript Utilities Suite / Test</title>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="stylesheet" type="text/css" href="style.css" />
		<link rel="me" href="http://xavierbadosa.com/" />
		<script src="https://unpkg.com/jsonstat-toolkit"></script>
		<script src="../iife.js"></script>
	</head>
	<body>
		<h1>JSON-stat Javascript Utilities Suite <span id="version"></span></h1>
		<main>Connecting...</main>

		<script>
		function test(sdmx){
			var
				d=document,
				dl=JSONstatUtils.datalist(
					JSONstat( JSONstatUtils.fromSDMX(sdmx) ), {
						counter: true,
						tblclass: "datalist",
						numclass: "number",
						valclass: "value",
						vlabel: "VALUE",
						status: true,
						slabel: "STATUS"
					}
				)
      		;

			d.getElementById("version").innerHTML=JSONstatUtils.version;
			d.getElementsByTagName("main")[0].innerHTML=dl;
		}

		fetch(
			"https://stats.oecd.org/SDMX-JSON/data/SNA_TABLE1/AUS+AUT+BEL+CAN+CHL+COL+CZE+DNK+EST+FIN+FRA+DEU+GRC+HUN+ISL+IRL+ISR+ITA+JPN+KOR+LTU+LVA+LUX+MEX+NLD+NZL+NOR+POL+PRT+SVK+SVN+ESP+SWE+CHE+TUR+GBR+USA+EA19+EU27_2020+OECD+NMEC+ARG+BRA+BGR+CHN+CRI+HRV+CYP+IND+IDN+MLT+ROU+RUS+SAU+ZAF.B1G.C/all?startTime=2017&endTime=2020"
		).then(r => r.json()).then(test);

		</script>

		<noscript>Errrrr... This is embarassing... This page needs Javascript to work.</noscript>
	</body>
</html>
